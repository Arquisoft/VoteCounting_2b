SET DATABASE UNIQUE NAME HSQLDB3A0390C876
SET DATABASE GC 0
SET DATABASE DEFAULT RESULT MEMORY ROWS 0
SET DATABASE EVENT LOG LEVEL 0
SET DATABASE TRANSACTION CONTROL LOCKS
SET DATABASE DEFAULT ISOLATION LEVEL READ COMMITTED
SET DATABASE TRANSACTION ROLLBACK ON CONFLICT TRUE
SET DATABASE TEXT TABLE DEFAULTS ''
SET DATABASE SQL NAMES FALSE
SET DATABASE SQL REFERENCES FALSE
SET DATABASE SQL SIZE FALSE
SET DATABASE SQL TYPES FALSE
SET DATABASE SQL TDC DELETE TRUE
SET DATABASE SQL TDC UPDATE TRUE
SET DATABASE SQL TRANSLATE TTI TYPES TRUE
SET DATABASE SQL CONCAT NULLS TRUE
SET DATABASE SQL UNIQUE NULLS TRUE
SET DATABASE SQL CONVERT TRUNCATE TRUE
SET DATABASE SQL AVG SCALE 0
SET DATABASE SQL DOUBLE NAN TRUE
SET FILES WRITE DELAY 10
SET FILES BACKUP INCREMENT FALSE
SET FILES CACHE SIZE 10000
SET FILES CACHE ROWS 50000
SET FILES SCALE 1
SET FILES LOB SCALE 32
SET FILES DEFRAG 0
SET FILES NIO TRUE
SET FILES NIO SIZE 256
SET FILES LOG TRUE
SET FILES LOG SIZE 200
CREATE USER SA PASSWORD DIGEST 'd41d8cd98f00b204e9800998ecf8427e'
CREATE SCHEMA PUBLIC AUTHORIZATION DBA
SET SCHEMA PUBLIC
CREATE SEQUENCE PUBLIC.HIBERNATE_SEQUENCE AS INTEGER START WITH 1
CREATE MEMORY TABLE PUBLIC.CANDIDATE(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DNI VARCHAR(255),NAME VARCHAR(255),SURNAME VARCHAR(255),CANDIDATURE_ID BIGINT)
ALTER TABLE PUBLIC.CANDIDATE ALTER COLUMN ID RESTART WITH 1
CREATE MEMORY TABLE PUBLIC.CANDIDATE_ELECTIONS(CANDIDATES_ID BIGINT NOT NULL,ELECTIONS_ID BIGINT NOT NULL,PRIMARY KEY(CANDIDATES_ID,ELECTIONS_ID),CONSTRAINT FK_2SN208MF580TXERCXO4XKTSPP FOREIGN KEY(CANDIDATES_ID) REFERENCES PUBLIC.CANDIDATE(ID))
CREATE MEMORY TABLE PUBLIC.CANDIDATURE(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,DESCRIPTION VARCHAR(255),INITIAL VARCHAR(255),NAME VARCHAR(255) NOT NULL,CONSTRAINT UK_B5CL0B5IQQTR850T4VBDPR0TD UNIQUE(NAME))
ALTER TABLE PUBLIC.CANDIDATURE ALTER COLUMN ID RESTART WITH 1
CREATE MEMORY TABLE PUBLIC.CANDIDATURE_ELECTIONS(CANDIDATURES_ID BIGINT NOT NULL,ELECTIONS_ID BIGINT NOT NULL,PRIMARY KEY(CANDIDATURES_ID,ELECTIONS_ID),CONSTRAINT FK_23V2SEQMECVQRIOAVU8NF3EKB FOREIGN KEY(CANDIDATURES_ID) REFERENCES PUBLIC.CANDIDATURE(ID))
CREATE MEMORY TABLE PUBLIC.CENSUS(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,EMAIL VARCHAR(255) NOT NULL,NAME VARCHAR(255) NOT NULL,NIF VARCHAR(255) NOT NULL,PASSWORD VARCHAR(255) NOT NULL,POLLING_PLACE_ID BIGINT,CONSTRAINT UK_JKKJ843UY1RC7DU6XPKW5N11B UNIQUE(EMAIL),CONSTRAINT UK_KKMVUY0UO30GPPTMA1QHUC608 UNIQUE(NIF))
ALTER TABLE PUBLIC.CENSUS ALTER COLUMN ID RESTART WITH 2
CREATE MEMORY TABLE PUBLIC.CONSTITUENCY(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(255),REGION_ID BIGINT)
ALTER TABLE PUBLIC.CONSTITUENCY ALTER COLUMN ID RESTART WITH 2
CREATE MEMORY TABLE PUBLIC.ELECTION(DTYPE VARCHAR(31) NOT NULL,ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,EXPIRY_DATE TIMESTAMP,INSTRUCTIONS VARCHAR(255),NAME VARCHAR(255),START_DATE TIMESTAMP,QUESTION VARCHAR(255),NUM_CHOICES INTEGER)
ALTER TABLE PUBLIC.ELECTION ALTER COLUMN ID RESTART WITH 1
CREATE MEMORY TABLE PUBLIC.POLLING_PLACE(ID BIGINT NOT NULL PRIMARY KEY,CONSTITUENCY_ID BIGINT,CONSTRAINT FK_LR5AH5UO6BIFKTKA0AE7LI13C FOREIGN KEY(CONSTITUENCY_ID) REFERENCES PUBLIC.CONSTITUENCY(ID))
CREATE MEMORY TABLE PUBLIC.REGION(ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(255))
ALTER TABLE PUBLIC.REGION ALTER COLUMN ID RESTART WITH 2
CREATE MEMORY TABLE PUBLIC.TURNOUT(ELECTION_ID BIGINT,VOTER_ID BIGINT,PRIMARY KEY(ELECTION_ID,VOTER_ID),CONSTRAINT FK_68B9J4A43FAWT7M5L6VV6ORYM FOREIGN KEY(ELECTION_ID) REFERENCES PUBLIC.ELECTION(ID),CONSTRAINT FK_2T5I984TSD1BSNY35PJ5C1YSP FOREIGN KEY(VOTER_ID) REFERENCES PUBLIC.CENSUS(ID))
CREATE MEMORY TABLE PUBLIC.VOTES_CLOSED_LIST(ID BIGINT NOT NULL PRIMARY KEY,NUM_VOTES INTEGER NOT NULL,ELECTION_ID BIGINT,POLLING_PLACE_ID BIGINT,CANDIDATURE_ID BIGINT,CONSTRAINT FK_DQ2GNAHFHDXP4779MS887N0IA FOREIGN KEY(CANDIDATURE_ID) REFERENCES PUBLIC.CANDIDATURE(ID),CONSTRAINT FK_SO5N2IQF2JLK8MF9A4NSCWJ2X FOREIGN KEY(ELECTION_ID) REFERENCES PUBLIC.ELECTION(ID),CONSTRAINT FK_688G0BPAQ681GD2O0N4RDGOAV FOREIGN KEY(POLLING_PLACE_ID) REFERENCES PUBLIC.POLLING_PLACE(ID))
CREATE MEMORY TABLE PUBLIC.VOTES_OPEN_LIST(ID BIGINT NOT NULL PRIMARY KEY,NUM_VOTES INTEGER NOT NULL,ELECTION_ID BIGINT,POLLING_PLACE_ID BIGINT,CANDIDATE_ID BIGINT,CONSTRAINT FK_9AAGUT41JTDAFCBCWKD34XFWQ FOREIGN KEY(CANDIDATE_ID) REFERENCES PUBLIC.CANDIDATE(ID),CONSTRAINT FK_P9IU9MGMPY3J1IBB1SUM2YB2I FOREIGN KEY(ELECTION_ID) REFERENCES PUBLIC.ELECTION(ID),CONSTRAINT FK_JDORS1IH5S8T4PW8IY483O5VC FOREIGN KEY(POLLING_PLACE_ID) REFERENCES PUBLIC.POLLING_PLACE(ID))
CREATE MEMORY TABLE PUBLIC.VOTES_REFERENDUM(ID BIGINT NOT NULL PRIMARY KEY,NUM_VOTES INTEGER NOT NULL,ELECTION_ID BIGINT,POLLING_PLACE_ID BIGINT,NOES INTEGER NOT NULL,YESES INTEGER NOT NULL,CONSTRAINT FK_8X2314T8BDL24D4MKPN38F5S3 FOREIGN KEY(ELECTION_ID) REFERENCES PUBLIC.ELECTION(ID),CONSTRAINT FK_GBVLGL0H1XRSXGR1IV51VX17B FOREIGN KEY(POLLING_PLACE_ID) REFERENCES PUBLIC.POLLING_PLACE(ID))
ALTER TABLE PUBLIC.CANDIDATE ADD CONSTRAINT FK_9282OFA2UWWSTW3UH9ORF0108 FOREIGN KEY(CANDIDATURE_ID) REFERENCES PUBLIC.CANDIDATURE(ID)
ALTER TABLE PUBLIC.CANDIDATE_ELECTIONS ADD CONSTRAINT FK_RXR7JMXJR6KGRFNI61RBJTBE FOREIGN KEY(ELECTIONS_ID) REFERENCES PUBLIC.ELECTION(ID)
ALTER TABLE PUBLIC.CANDIDATURE_ELECTIONS ADD CONSTRAINT FK_F0EQ9WKB9EPDGUW5EORRWOX0R FOREIGN KEY(ELECTIONS_ID) REFERENCES PUBLIC.ELECTION(ID)
ALTER TABLE PUBLIC.CENSUS ADD CONSTRAINT FK_8EL4ECCI3FNH5BNTHPSFRSYNV FOREIGN KEY(POLLING_PLACE_ID) REFERENCES PUBLIC.POLLING_PLACE(ID)
ALTER TABLE PUBLIC.CONSTITUENCY ADD CONSTRAINT FK_2E2V8S4AJTB0EWN4WEFLXTUCH FOREIGN KEY(REGION_ID) REFERENCES PUBLIC.REGION(ID)
ALTER SEQUENCE SYSTEM_LOBS.LOB_ID RESTART WITH 1
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 1
SET DATABASE DEFAULT INITIAL SCHEMA PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.SQL_IDENTIFIER TO PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.YES_OR_NO TO PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.TIME_STAMP TO PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.CARDINAL_NUMBER TO PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.CHARACTER_DATA TO PUBLIC
GRANT DBA TO SA
SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
SET SCHEMA PUBLIC
INSERT INTO CENSUS VALUES(1,'sergio@gmail.com','Sergio','9816446','sergio',1)
INSERT INTO CONSTITUENCY VALUES(1,'Asturias',1)
INSERT INTO POLLING_PLACE VALUES(1,1)
INSERT INTO REGION VALUES(1,'AS')
